{"version":3,"sources":["scripts/main.js"],"names":["button","document","querySelector","startMessage","probability","n","Math","random","addStartCells","cells","firstCell","floor","secondCell","i","length","dataset","number","num","updateCells","availibleMoves","result","rows","querySelectorAll","columns","forEach","row","column","moveDown","score","current","prev","removeAttribute","moveUp","right","cellsWithNumber","filter","cell","hasAttribute","left","winMessage","messageLose","emptyCells","classList","add","remove","innerHTML","className","some","addCell","randomCell","deleteEmptySpaces","direction","prepend","append","currentCell","addEventListener","e","gameScore","messages","target","matches","message","contains","scoreIncrease","key"],"mappings":"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","file":"main.dc7974b0.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst button = document.querySelector('.button');\nconst startMessage = document.querySelector('.message-start');\n\nbutton.addEventListener('click', e => {\n  const cells = document.querySelectorAll('.field-cell');\n  const gameScore = document.querySelector('.game-score');\n  const messages = document.querySelectorAll('.message');\n\n  if (e.target.matches('.start')) {\n    e.target.innerHTML = 'Restart';\n    e.target.classList.remove('start');\n    e.target.classList.add('restart');\n  }\n\n  if (e.target.matches('.restart')) {\n    [...cells].forEach(cell => {\n      cell.removeAttribute('data-number');\n    });\n    gameScore.innerHTML = '0';\n  }\n\n  [...messages].forEach(message => {\n    message.classList.add('hidden');\n  });\n\n  addStartCells(cells);\n  // updateCells();\n});\n\nfunction probability(n) {\n  return Math.random() < n;\n}\n\nfunction addStartCells(cells) {\n  let firstCell = Math.floor(Math.random() * 16);\n  let secondCell = Math.floor(Math.random() * 16);\n\n  while (firstCell === secondCell) {\n    firstCell = Math.floor(Math.random() * 16);\n    secondCell = Math.floor(Math.random() * 16);\n  }\n\n  for (let i = 0; i < [...cells].length; i++) {\n    if (i === firstCell) {\n      cells[i].dataset.number = '2';\n    }\n\n    if (i === secondCell) {\n      const num = probability(0.1) ? '4' : '2';\n\n      cells[i].dataset.number = num;\n    }\n  }\n\n  updateCells();\n}\n\nfunction availibleMoves() {\n  let result = false;\n  const rows = document.querySelectorAll('.field-row');\n  const columns = [\n    document.querySelectorAll('.field-row :first-child'),\n    document.querySelectorAll('.field-row :nth-child(2)'),\n    document.querySelectorAll('.field-row :nth-child(3)'),\n    document.querySelectorAll('.field-row :last-child'),\n  ];\n\n  [...rows].forEach(row => {\n    const cells = row.querySelectorAll('.field-cell');\n\n    for (let i = 0; i < cells.length - 1; i++) {\n      if (cells[i].dataset.number === cells[i + 1].dataset.number) {\n        result = true;\n\n        return;\n      }\n    }\n  });\n\n  columns.forEach(column => {\n    for (let i = 0; i < column.length - 1; i++) {\n      if (column[i].dataset.number === column[i + 1].dataset.number) {\n        result = true;\n\n        return;\n      }\n    }\n  });\n\n  return result;\n}\n\ndocument.addEventListener('keydown', e => {\n  if (!startMessage.classList.contains('hidden')) {\n    return;\n  }\n\n  const cells = document.querySelectorAll('.field-cell');\n  const gameScore = document.querySelector('.game-score');\n  let score = +gameScore.innerHTML;\n  let scoreIncrease;\n\n  [...cells].forEach(cell => {\n    cell.classList.remove(`field-cell--${cell.innerHTML}`);\n  });\n\n  if (e.key === 'ArrowRight') {\n    scoreIncrease = right();\n  } else if (e.key === 'ArrowLeft') {\n    scoreIncrease = left();\n  } else if (e.key === 'ArrowUp') {\n    scoreIncrease = moveUp();\n  } else if (e.key === 'ArrowDown') {\n    scoreIncrease = moveDown();\n  } else {\n    return;\n  }\n\n  score += scoreIncrease;\n  gameScore.innerHTML = '' + score;\n\n  deleteEmptySpaces(e.key);\n  updateCells();\n  addCell();\n});\n\nfunction moveDown() {\n  let score = 0;\n  const columns = [\n    document.querySelectorAll('.field-row :first-child[data-number]'),\n    document.querySelectorAll('.field-row :nth-child(2)[data-number]'),\n    document.querySelectorAll('.field-row :nth-child(3)[data-number]'),\n    document.querySelectorAll('.field-row :last-child[data-number]'),\n  ];\n\n  [...columns].forEach(column => {\n    for (let i = column.length - 1; i > 0; i--) {\n      const current = column[i];\n      const prev = column[i - 1];\n\n      if (current.dataset.number === prev.dataset.number) {\n        current.dataset.number = `${+prev.dataset.number * 2}`;\n        score += +prev.dataset.number * 2;\n        prev.removeAttribute('data-number');\n      }\n    }\n  });\n\n  return score;\n}\n\nfunction moveUp() {\n  let score = 0;\n  const columns = [\n    document.querySelectorAll('.field-row :first-child[data-number]'),\n    document.querySelectorAll('.field-row :nth-child(2)[data-number]'),\n    document.querySelectorAll('.field-row :nth-child(3)[data-number]'),\n    document.querySelectorAll('.field-row :last-child[data-number]'),\n  ];\n\n  [...columns].forEach(column => {\n    for (let i = 1; i < column.length; i++) {\n      const current = column[i];\n      const prev = column[i - 1];\n\n      if (current.dataset.number === prev.dataset.number) {\n        prev.dataset.number = `${+current.dataset.number * 2}`;\n        score += +current.dataset.number * 2;\n        current.removeAttribute('data-number');\n      }\n    }\n  });\n\n  return score;\n}\n\nfunction right() {\n  let score = 0;\n  const rows = document.querySelectorAll('.field-row');\n\n  [...rows].forEach(row => {\n    const cells = row.querySelectorAll('.field-cell');\n    const cellsWithNumber = [...cells]\n      .filter(cell => cell.hasAttribute('data-number'));\n\n    for (let i = cellsWithNumber.length - 1; i > 0; i--) {\n      const current = cellsWithNumber[i];\n      const prev = cellsWithNumber[i - 1];\n\n      if (current.dataset.number === prev.dataset.number) {\n        current.dataset.number = `${+prev.dataset.number * 2}`;\n        score += +prev.dataset.number * 2;\n        prev.removeAttribute('data-number');\n      }\n    }\n  });\n\n  return score;\n}\n\nfunction left() {\n  let score = 0;\n  const rows = document.querySelectorAll('.field-row');\n\n  [...rows].forEach(row => {\n    const cells = row.querySelectorAll('.field-cell');\n    const cellsWithNumber = [...cells]\n      .filter(cell => cell.hasAttribute('data-number'));\n\n    // [...cells].filter(cell => cell.hasAttribute('data-number'))\n    //   .forEach(cell => row.append(cell));\n\n    for (let i = 1; i < cellsWithNumber.length; i++) {\n      const current = cellsWithNumber[i];\n      const prev = cellsWithNumber[i - 1];\n\n      if (current.dataset.number === prev.dataset.number) {\n        prev.dataset.number = `${+current.dataset.number * 2}`;\n        score += +current.dataset.number * 2;\n        current.removeAttribute('data-number');\n      }\n    }\n  });\n\n  return score;\n}\n\nfunction updateCells() {\n  const cells = document.querySelectorAll('.field-cell');\n  const winMessage = document.querySelector('.message-win');\n  const messageLose = document.querySelector('.message-lose');\n  const emptyCells = [...cells]\n    .filter(cell => !cell.hasAttribute('data-number'));\n\n  [...cells].forEach(cell => {\n    if (cell.hasAttribute('data-number')) {\n      cell.classList.add(`field-cell--${cell.dataset.number}`);\n      cell.classList.remove(`field-cell--${+cell.dataset.number / 2}`);\n      cell.innerHTML = `${cell.dataset.number}`;\n    } else {\n      cell.innerHTML = '';\n      cell.className = 'field-cell';\n    }\n  });\n\n  if ([...cells].some(cell => cell.dataset.number === '2048')) {\n    winMessage.classList.remove('hidden');\n  }\n\n  if (emptyCells.length === 0) {\n    const hasAvailibleMoves = availibleMoves();\n\n    if (!hasAvailibleMoves) {\n      messageLose.classList.remove('hidden');\n\n      return;\n    };\n  }\n}\n\nfunction addCell() {\n  const emptyCells = [...document.querySelectorAll('.field-cell')]\n    .filter(cell => !cell.hasAttribute('data-number'));\n  const randomCell = Math.floor(Math.random() * emptyCells.length);\n\n  if (emptyCells.length !== 0) {\n    emptyCells[randomCell].dataset.number = probability(0.1) ? '4' : '2';\n\n    emptyCells[randomCell].classList\n      .add(`field-cell--${emptyCells[randomCell].dataset.number}`);\n\n    emptyCells[randomCell].innerHTML\n      = `${emptyCells[randomCell].dataset.number}`;\n  }\n}\n\nfunction deleteEmptySpaces(direction) {\n  const rows = document.querySelectorAll('.field-row');\n  const columns = [\n    document.querySelectorAll('.field-row :first-child'),\n    document.querySelectorAll('.field-row :nth-child(2)'),\n    document.querySelectorAll('.field-row :nth-child(3)'),\n    document.querySelectorAll('.field-row :last-child'),\n  ];\n\n  [...rows].forEach(row => {\n    const cells = row.querySelectorAll('.field-cell');\n    const emptyCells = [...cells]\n      .filter(cell => !cell.hasAttribute('data-number'));\n\n    emptyCells.forEach(cell => {\n      if (direction === 'ArrowRight') {\n        row.prepend(cell);\n      }\n\n      if (direction === 'ArrowLeft') {\n        row.append(cell);\n      }\n    });\n  });\n\n  if (direction === 'ArrowUp') {\n    [...columns].forEach(column => {\n      for (let i = 0; i < column.length - 1; i++) {\n        const currentCell = column[i];\n\n        if (!currentCell.hasAttribute('data-number')) {\n          for (let n = i + 1; n < column.length; n++) {\n            if (column[n].hasAttribute('data-number')) {\n              currentCell.dataset.number = column[n].dataset.number;\n              column[n].removeAttribute('data-number');\n\n              break;\n            }\n          }\n        }\n      }\n    });\n  }\n\n  if (direction === 'ArrowDown') {\n    [...columns].forEach(column => {\n      for (let i = column.length - 1; i > 0; i--) {\n        const currentCell = column[i];\n\n        if (!currentCell.hasAttribute('data-number')) {\n          for (let n = i - 1; n >= 0; n--) {\n            if (column[n].hasAttribute('data-number')) {\n              currentCell.dataset.number = column[n].dataset.number;\n              column[n].removeAttribute('data-number');\n\n              break;\n            }\n          }\n        }\n      }\n    });\n  }\n}\n"]}